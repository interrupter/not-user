{
  "port": 7357,
  "proxy": {
    "port": 7357
  },
  "host": "preparator.local",
  "cors": ["*"],
  "template": {
    "engine": "pug",
    "views": "views",
    "partialsDir": "partials",
    "partials": {}
  },
  "session": {
    "secret": "34097592384-fm195u023947623097udf928hn3j476-g2ni09u",
    "cookie": {
      "maxAge": 2628000000
    },
    "key": "SessionID"
  },
  "path": {
    "static": "../browser",
    "app": "/client",
    "front": "../front/build"
  },
  "defaultUserRole": "user",
  "modules": {
    "locale": {
      "priority": ["ru", "en", "de", "es", "fr"]
    },
    "user": {
      "root": {
        "username": "root",
        "email": "root@test.user.not",
        "password": "letMeIn",
        "role": "root"
      },
			"loginByLink": 				true,
			"emailConfirmation": 	true,
			"telConfirmation": 		true,
      "secret": "qwerty",
      "tokenTTL": 3600
    },
    "ws": {
      "port": 7358,
      "secure": true
    },
    "error": {
			"options":	{
				"secure": false
			},
			"key":	"error@reporter.local",
			"url":	"http://reporter.local/api/error"
		},
    "error-collect": {},
    "options": {},
    "inform":{
			"sinks":{
				"email-noreply": {
					"type": "email",
					"account": {
						"host":     "smtp.timeweb.ru",
						"port":     465,
						"secure" :  true,
						"auth": {
							"user":    "",
							"pass":    ""
						}
					},
					"rules": {
						"confirm-email": {
							"type": "tag",
							"tags": ["userEmailConfirmation"],
							"data":{
								"from": "noreply@appmon.ru",
								"templates":{
									"subject": "Подтверждение адреса почты",
									"text": "Для подтверждения пройдите по ссылке {{link}}",
									"html": "<strong>Для подтверждения пройдите по <a href=\"{{link}}\">ссылке</a></strong>"
								}
							}
						},
						"restore-password": {
							"type": "tag",
							"tags": ["userPasswordRestoration"],
							"data":{
								"from": "noreply@appmon.ru",
								"templates":{
									"subject": "Восстановление пароля",
									"text": "Для продолжения процедуры пройдите по ссылке {{link}}",
									"html": "<strong>Для продолжения процедуры пройдите по <a href=\"{{link}}\">ссылке</a></strong>"
								}
							}
						},
						"new-password": {
							"type": "tag",
							"tags": ["userPasswordNew"],
							"data":{
								"from": "noreply@appmon.ru",
								"templates":{
									"subject": "Ваш новый пароль",
									"text": "Ваш новый пароль {{pass}}",
									"html": "<strong>Ваш новый пароль {{pass}}</strong>"
								}
							}
						},
						"one-time-login-email": {
							"type": "tag",
							"tags": ["userOneTimeLoginLink"],
							"data":{
								"from": "noreply@appmon.ru",
								"templates":{
									"subject": "Ссылка для входа в сервис",
									"text": "Для продолжения процедуры пройдите по ссылке {{link}}",
									"html": "<strong>Для продолжения процедуры пройдите по <a href=\"{{link}}\">ссылке</a></strong>"
								}
							}
						}
					}
				}
			}
		}
  },
  "middleware": {
    "not-user": {
      "path": "../../index.js"
    }
  },
  "importModulesFromNPM": ["not-error-collect", "not-error", "not-one-time-code"]
}
